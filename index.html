<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<title>EventFinder</title>
<link rel="stylesheet" href="css/jquery.mobile.css" type="text/css" >
<link rel="stylesheet" href="css/main.css" type="text/css">

<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="js/jquery.mobile.js"></script>
<script src="js/locations.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
var infowindow = null;
    $(document).ready(function () { initialize();  });

    function initialize() {

        var centerMap = new google.maps.LatLng(39.828175, -98.5795);

        var myOptions = {
            zoom: 4,
            center: centerMap,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        }

        var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

        setMarkers(map, sites);
	    infowindow = new google.maps.InfoWindow({
                content: "loading..."
            });

        var bikeLayer = new google.maps.BicyclingLayer();
		bikeLayer.setMap(map);
    }

    function setMarkers(map, markers) {

        for (var i = 0; i < markers.length; i++) {
            var sites = markers[i];
            var siteLatLng = new google.maps.LatLng(sites[1], sites[2]);
            var marker = new google.maps.Marker({
                position: siteLatLng,
                map: map,
                title: sites[0],
                zIndex: sites[3],
                html: sites[4]
            });

            var contentString = "Some content";

            google.maps.event.addListener(marker, "click", function () {
                // alert(this.html);
                infowindow.setContent(this.html);
                infowindow.open(map, this);
            });
        }
    }
</script>

</head>

<body>

<div data-role="page" id="home">
	<div data-role="header" data-id="header" data-position="fixed" class="ui-header ui-bar" id="header-bar">
		<h1>EventFinder</h1>
		<a href="index.html" id="filter-icon" class="ui-btn-right"></a>
	</div>

	<div data-role="content">
		<input type="search" name="search-mini" id="search-mini" value placeholder="Search" />
		<input type="button" id="search-button" value="Search" data-inline="true" class="search-btn" />

		<div id="map_canvas" style="width: 100%; height: 400px;">

		</div>	
	</div>

	<div data-role="footer" data-id="footer1" data-position="fixed" class="ui-footer">
		<div data-role="navbar" class="ui-navbar" role="navigation">
			<ul>
				<li class="btn-active"><a href="#" class="ui-state-persist" id="map">Map</a></li>
				<li><a href="listview.html" class="ui-state-persist" id="list">List</a></li>
			</ul>
		</div>
	</div>
</div>

</body>
</html>